"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[1680],{2238:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var s=i(5225),t=i(4848),o=i(8453);const r={slug:"booking-com-rs",title:"Booking.com's RS",tags:["mlops","machine-learning"]},a=void 0,l={authorsImageUrls:[]},c=[];function d(e){const n={a:"a",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"Summary of Booking.com's RS, their Machine Learning Productionization System."}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Booking.com RS",src:i(7381).A+"",width:"1236",height:"990"})}),"\n",(0,t.jsx)(n.p,{children:'\ud83d\uded0 One of the Core ideas of booking.com: "Diversity gives us strength".'}),"\n",(0,t.jsx)(n.p,{children:"\ud83e\udd55 Requirements:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Consistency:"})," online predictions and offline should match"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"High availability:"})," system available 24/7"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Low latency:"})," real-time or near real-time predictions"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Scalability:"})," Should be able to handle multiple requests simultaneously."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Observability:"})," Monitor input and output space."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Reusability:"})," The same model can be used in multiple places eg: a family-friendly hotel predictor can be used on the home page and in many filters."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\ud83d\udc68\u200d\ud83d\udc68\u200d\ud83d\udc66\u200d\ud83d\udc66 The fantastic four approach"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Lookup tables:"}),"\n\u25b4 Precompute all the possible input vectors and save them as key-value pairs.\nFor a prediction, they have to just look up. It is Low latency, horizontally scaleable - Implemented using the Cassandra key-value store (or in memory if they are small enough).\nDisadvantages:\n\u25b4 Computation overhead and possibly resource wastage, even more, difficult with newer model versions.\nUsage:\n\u25b4 Discrete input space cases, User / accommodation / destination identifiers."]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Generalized Linear Models (GLMs):"}),"\n\u25b4 The model representation is stored in the linear form of weight and bias and computed when needed. Can also be SVMs. So continuous input. - It doesn\u2019t matter which training algorithm is used as long as it can be represented by a weight vector, an input transformation and link function, it can be run in production.\n\u25b4 Inner product < vectorize(X), W>\n\u25b4 Argsort for ranking the results based on the score\nDisadvantage:\n\u25b4 An extra step, once trained convert to linear form.\nUsage:\n\u25b4 User context models, destination, recommendations, etc"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Native libraries:"}),"\n\u25b4 Most straightforward approach: Train the model to serialize it and deserialize before serving.\nDisadvantage\n\u25b4 It has latency issues, this is usually optimized for training and not necessarily for serving.\nUsage:\n\u25b4 Tree-based model, GBT, NN"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Scripted models:"}),"\n\u25b4 A script is invoked during the request which gives the flexibility to control output for cases like post-processing.\n\u25b4 Flexibility for post-processing.\nDisadvantage\n\u25b4 Each line of code will determine the online request lifecycle latency.\nUsage\n\u25b4 For unsupported libraries and models with extra logic."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Reference:"})," ",(0,t.jsx)(n.a,{href:"https://booking.ai/https-booking-ai-machine-learning-production-3ee8fe943c70",children:"Booking.com's RS"})]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},5225:e=>{e.exports=JSON.parse('{"permalink":"/booking-com-rs","editUrl":"https://github.com/p-s-vishnu/p-s-vishnu.github.io/tree/main/blog/2021-10-29-booking.com.md","source":"@site/blog/2021-10-29-booking.com.md","title":"Booking.com\'s RS","description":"Summary of Booking.com\'s RS, their Machine Learning Productionization System.","date":"2021-10-29T00:00:00.000Z","tags":[{"inline":false,"label":"MLOps","permalink":"/tags/mlops","description":"MLOps, end to end lifecycle"},{"inline":false,"label":"Machine Learning","permalink":"/tags/machine-learning","description":"Classical Machine Learning"}],"readingTime":1.8,"hasTruncateMarker":true,"authors":[],"frontMatter":{"slug":"booking-com-rs","title":"Booking.com\'s RS","tags":["mlops","machine-learning"]},"unlisted":false,"prevItem":{"title":"Common Product Metrics","permalink":"/product-metrics"}}')},7381:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/booking-rs-tradeoff-d0eabca64e0b42a26e3be193416aa8ac.png"},8453:(e,n,i)=>{i.d(n,{R:()=>r,x:()=>a});var s=i(6540);const t={},o=s.createContext(t);function r(e){const n=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);